<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · JET.jl</title><meta name="title" content="API · JET.jl"/><meta property="og:title" content="API · JET.jl"/><meta property="twitter:title" content="API · JET.jl"/><meta name="description" content="Documentation for JET.jl."/><meta property="og:description" content="Documentation for JET.jl."/><meta property="twitter:description" content="Documentation for JET.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JET.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">README</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><span class="tocitem">Analyses</span><ul><li><a class="tocitem" href="../jetanalysis/">Error Analysis</a></li><li><a class="tocitem" href="../optanalysis/">Optimization Analysis</a></li></ul></li><li><a class="tocitem" href="../config/">Configurations</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><span class="tocitem"><code>AbstractAnalyzer</code> Framework</span><ul><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Interfaces"><span>Interfaces</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated-plugin-examples/dispatch_analysis/">Dispatch Analysis</a></li><li><a class="tocitem" href="../generated-plugin-examples/find_unstable_api/">&quot;Unstable API&quot; Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled"><code>AbstractAnalyzer</code> Framework</a></li><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aviatesk/JET.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aviatesk/JET.jl/blob/master/docs/src/generated-plugin-api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="AbstractAnalyzer-Framework"><a class="docs-heading-anchor" href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a><a id="AbstractAnalyzer-Framework-1"></a><a class="docs-heading-anchor-permalink" href="#AbstractAnalyzer-Framework" title="Permalink"></a></h1><ul><li><a href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a></li><li class="no-marker"><ul><li><a href="#Interfaces">Interfaces</a></li><li><a href="#Examples">Examples</a></li></ul></li></ul><p>JET offers an infrastructure to implement a &quot;plugin&quot; code analyzer. Actually, <a href="../jetanalysis/#jetanalysis">JET&#39;s default error analyzer</a> is one specific instance of such a plugin analyzer built on top of the framework.</p><p>In this documentation we will try to elaborate the framework APIs and showcase example analyzers.</p><div class="admonition is-warning" id="Warning-38b115d38943fe3b"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-38b115d38943fe3b" title="Permalink"></a></header><div class="admonition-body"><p>The APIs described in this page is <em>very</em> experimental and subject to changes. And this documentation is also very WIP.</p></div></div><h2 id="Interfaces"><a class="docs-heading-anchor" href="#Interfaces">Interfaces</a><a id="Interfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Interfaces" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.JETInterface" href="#JET.JETInterface"><code>JET.JETInterface</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface</code></pre><p>This <code>baremodule</code> exports names that form the APIs of <a href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a>. <code>using JET.JETInterface</code> loads all names that are necessary to define a plugin analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L75-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.AbstractAnalyzer" href="#JET.AbstractAnalyzer"><code>JET.AbstractAnalyzer</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractAnalyzer &lt;: AbstractInterpreter end</code></pre><p>An interface type of analyzers that are built on top of <a href="#AbstractAnalyzer-Framework">JET&#39;s analyzer framework</a>.</p><p>When a new type <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, it should be declared as subtype of <code>AbstractAnalyzer</code>, and is expected to implement the following interfaces:</p><p><strong>Required interfaces</strong></p><ol><li><p><strong><code>JETInterface.AnalyzerState(analyzer::NewAnalyzer) -&gt; AnalyzerState</code></strong>: Returns the <a href="#JET.AnalyzerState"><code>AnalyzerState</code></a> for <code>analyzer::NewAnalyzer</code>.</p></li><li><p><strong><code>JETInterface.AbstractAnalyzer(analyzer::NewAnalyzer, state::AnalyzerState) -&gt; NewAnalyzer</code></strong>: Constructs a new <code>NewAnalyzer</code> instance in the middle of JET&#39;s <a href="../internals/#toplevel">top-level analysis</a> or <a href="../internals/#abstractinterpret">abstract interpretation</a>, given the previous <code>analyzer::NewAnalyzer</code> and <a href="#JET.AnalyzerState"><code>state::AnalyzerState</code></a>.</p></li><li><p><strong><code>JETInterface.AnalysisToken(analyzer::NewAnalyzer) -&gt; AnalysisToken</code></strong>: Returns a unique <code>AnalysisToken</code> object used for <code>analyzer::NewAnalyzer</code>.</p></li></ol><p>See also <a href="#JET.AnalyzerState"><code>AnalyzerState</code></a> and <a href="../internals/#JET.AnalysisToken"><code>AnalysisToken</code></a>.</p><p><strong>Example</strong></p><p>JET.jl defines its default error analyzer <code>BasicJETAnalyzer &lt;: AbstractAnalyzer</code> as the following (modified a bit for the sake of simplicity):</p><pre><code class="language-julia hljs"># the default error analyzer for JET.jl
struct BasicJETAnalyzer &lt;: AbstractAnalyzer
    state::AnalyzerState
    analysis_token::AnalysisToken
    # ... other fields
end

# AbstractAnalyzer API requirements
JETInterface.AnalyzerState(analyzer::BasicJETAnalyzer) = analyzer.state
JETInterface.AbstractAnalyzer(analyzer::BasicJETAnalyzer, state::AnalyzerState) =
    BasicJETAnalyzer(state, analyzer.analysis_token, ...)
JETInterface.AnalysisToken(analyzer::BasicJETAnalyzer) = analyzer.analysis_token</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L4-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.AnalyzerState" href="#JET.AnalyzerState"><code>JET.AnalyzerState</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct AnalyzerState
    ...
end</code></pre><p>The mutable object that holds various states that are consumed by all <a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a>s.</p><hr/><pre><code class="language-julia hljs">JETInterface.AnalyzerState(analyzer::AbstractAnalyzer) -&gt; AnalyzerState</code></pre><p>If <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, <code>NewAnalyzer</code> should implement this <code>AnalyzerState(analyzer::NewAnalyzer) -&gt; AnalyzerState</code> interface.</p><p>A new <code>AnalyzerState</code> is supposed to be constructed using the <a href="../config/#general-configurations">general configurations</a> passed as keyword arguments <code>jetconfigs</code> of the <a href="#JET.AbstractAnalyzer"><code>NewAnalyzer(; jetconfigs...)</code></a> constructor, and the constructed <code>AnalyzerState</code> is usually kept within <code>NewAnalyzer</code> itself:</p><pre><code class="language-julia hljs">function NewAnalyzer(world::UInt=Base.get_world_counter(); jetconfigs...)
    ...
    state = AnalyzerState(world; jetconfigs...)
    return NewAnalyzer(..., state)
end
JETInterface.AnalyzerState(analyzer::NewAnalyzer) = analyzer.state</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L89-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.AnalysisToken-Tuple{JET.AbstractAnalyzer}" href="#JET.AnalysisToken-Tuple{JET.AbstractAnalyzer}"><code>JET.AnalysisToken</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.AnalysisToken(analyzer::AbstractAnalyzer) -&gt; AnalysisToken</code></pre><p>Returns <a href="../internals/#JET.AnalysisToken"><code>AnalysisToken</code></a> for the given <code>analyzer::AbstractAnalyzer</code>. <code>AbstractAnalyzer</code> instances can share the same cache if they perform the same analysis, otherwise their cache should be separated.</p><p>If <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, it must implement this function to return a consistent token for instances that should share the same cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L333-L342">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.ToplevelAbstractAnalyzer" href="#JET.ToplevelAbstractAnalyzer"><code>JET.ToplevelAbstractAnalyzer</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type ToplevelAbstractAnalyzer &lt;: AbstractAnalyzer end</code></pre><p>A specialized interface type for analyzers that perform top-level analysis of Julia code.</p><p><code>ToplevelAbstractAnalyzer</code> extends <a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a> to provide clear separation between analyzers that support top-level analysis and those that don&#39;t, offering several key architectural benefits:</p><ul><li><em>Type Safety</em>: Only analyzers that explicitly extend <code>ToplevelAbstractAnalyzer</code> can be used with JET&#39;s <code>virtual_process</code> system, making it clear at compile time which analyzers support top-level analysis capabilities.</li><li><em>Responsibility Separation</em>: Analyzers like <code>OptAnalyzer</code> that don&#39;t perform top-level analysis are no longer required to handle top-level specific code paths, reducing complexity and improving performance.</li></ul><p><strong>Top-Level Analysis Capabilities</strong></p><p><code>ToplevelAbstractAnalyzer</code> provides specialized functionality for analyzing top-level Julia constructs such as:</p><ul><li>Global variable assignments</li><li>Constant declarations (<code>const</code> statements)</li><li>Module definitions and imports</li><li>Method definitions at the top level</li><li>Package-level code execution</li></ul><p>This analyzer type is used in <a href="../internals/#JET.virtual_process"><code>virtual_process</code></a> system to analyze Julia code as it would be executed at the top level, handling both concrete interpretation of some statements and abstract interpretation of others.</p><p><strong>Usage</strong></p><p><code>ToplevelAbstractAnalyzer</code> is typically used through JET&#39;s virtual process system:</p><pre><code class="language-julia hljs"># Create a concrete interpreter with a toplevel analyzer
interp = JETConcreteInterpreter(JETAnalyzer(...))
analyzer = ToplevelAbstractAnalyzer(interp)

# Analyze top-level code
result = analyze_and_report_text!(interp, &quot;x = 1; y = x + 1&quot;)</code></pre><p><strong>Implementation Requirements</strong></p><p>Concrete subtypes of <code>ToplevelAbstractAnalyzer</code> must implement all the interfaces required by <a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a>, and will automatically inherit the specialized top-level analysis behaviors provided by this type.</p><p><strong>See Also</strong></p><ul><li><a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a>: The base analyzer interface</li><li><a href="../jetanalysis/#JET.JETAnalyzer"><code>JETAnalyzer</code></a>: JET&#39;s default error analyzer that implements this interface</li><li><a href="../internals/#JET.virtual_process"><code>virtual_process</code></a>: The main function that uses this analyzer type</li><li><a href="../internals/#JET.ConcreteInterpreter"><code>ConcreteInterpreter</code></a>: The concrete interpreter that works with this analyzer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L495-L549">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.valid_configurations" href="#JET.valid_configurations"><code>JET.valid_configurations</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.valid_configurations(analyzer::AbstractAnalyzer) -&gt; names or nothing</code></pre><p>Returns a set of names that are valid as a configuration for <code>analyzer</code>. <code>names</code> should be an iterator of <code>Symbol</code>. No validations are performed if <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L372-L378">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.aggregation_policy" href="#JET.aggregation_policy"><code>JET.aggregation_policy</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.aggregation_policy(analyzer::AbstractAnalyzer)</code></pre><p>Defines how <code>analyzer</code> aggregates <a href="../internals/#JET.InferenceErrorReport"><code>InferenceErrorReport</code></a>s. This policy determines how duplicate or similar reports are identified and grouped. Defaults to <code>default_aggregation_policy</code>.</p><hr/><pre><code class="language-julia hljs">default_aggregation_policy(report::InferenceErrorReport) -&gt; DefaultReportIdentity</code></pre><p>Returns the default identity of <code>report::InferenceErrorReport</code> using <code>DefaultReportIdentity</code>, which aggregates reports based on their &quot;error location&quot;.</p><p><code>DefaultReportIdentity</code> aggregates <code>InferenceErrorReport</code>s by creating an identity based on:</p><ol><li>The report type</li><li>The signature of the method where the error was found</li><li>The file and line number where the error occurred</li></ol><p>This approach ignores the specific <code>MethodInstance</code> identity, allowing errors to be aggregated if they occur at the same file and line, under the assumption that errors at the same location are likely duplicates even if in different method specializations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L393-L415">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.typeinf_world" href="#JET.typeinf_world"><code>JET.typeinf_world</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">typeinf_world(analyzer::AbstractAnalyzer) -&gt; world::Union{UInt,Nothing}</code></pre><p>Return the world age to use for type inference performed by the given <code>analyzer</code>, or <code>nothing</code> to use the current world.</p><p>When a specific world age is returned, the analyzer will invoke type inference within that fixed world using <code>Base.invoke_in_world</code>. This makes the analysis implementation more robust against potential invalidations that may be caused by loading external packages.</p><p>The default implementation returns <code>nothing</code>, meaning type inference runs in the latest world. Specific analyzer implementations may override this to return a fixed world age for stability.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L355-L369">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.VSCode.vscode_diagnostics_order" href="#JET.VSCode.vscode_diagnostics_order"><code>JET.VSCode.vscode_diagnostics_order</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vscode_diagnostics_order(analyzer::AbstractAnalyzer) -&gt; Bool</code></pre><p>If <code>true</code> (default) a diagnostic will be reported at entry site. Otherwise it&#39;s reported at error point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/ui/vscode.jl#L23-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.InferenceErrorReport-Tuple{}" href="#JET.InferenceErrorReport-Tuple{}"><code>JET.InferenceErrorReport</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">InferenceErrorReport</code></pre><p>In order for <code>Report &lt;: InferenceErrorReport</code> to implement the interface, it should satisfy the following requirements:</p><ul><li><p><strong>Required fields</strong> <br/><code>Report</code> should have the following fields, which explains <em>where</em> and <em>how</em> this error is reported:</p><ul><li><code>vst::VirtualStackTrace</code>: a virtual stack trace of the error</li><li><a href="../internals/#JET.Signature"><code>sig::Signature</code></a>: a signature of the error point</li></ul><p>Note that <code>Report</code> can have additional fields other than <code>vst</code> and <code>sig</code> to explain <em>why</em> this error is reported (mostly used for <a href="#JET.print_report_message"><code>print_report_message</code></a>).</p></li><li><p><strong>Required overloads</strong> <br/></p><ul><li><a href="#JET.copy_report"><code>JETInterface.copy_report(report::Report) -&gt; new::Report</code></a></li><li><a href="#JET.print_report_message"><code>JETInterface.print_report_message(io::IO, report::Report)</code></a></li></ul></li><li><p><strong>Optional overloads</strong> <br/></p><ul><li><a href="#JET.print_signature"><code>JETInterface.print_signature(::Report) -&gt; Bool</code></a></li><li><a href="#JET.report_color"><code>JETInterface.report_color(::Report) -&gt; Symbol</code></a></li></ul></li></ul><p><code>Report &lt;: InferenceErrorReport</code> is supposed to be constructed using the following constructor</p><pre><code class="language-julia hljs">Report(::AbstractAnalyzer, state, spec_args...) -&gt; Report</code></pre><p>where <code>state</code> can be either of:</p><ul><li><code>state::Tuple{Union{Compiler.InferenceState, Compiler.OptimizationState}, Int64}</code>: a state with the current program counter specified</li><li><code>state::InferenceState</code>: a state with the current program counter set to <code>state.currpc</code></li><li><code>state::InferenceResult</code>: a state with the current program counter unknown</li><li><code>state::MethodInstance</code>: a state with the current program counter unknown</li></ul><p>See also: <a href="#JET.@jetreport"><code>@jetreport</code></a>, <a href="../internals/#JET.VirtualStackTrace"><code>VirtualStackTrace</code></a>, <a href="../internals/#JET.VirtualFrame"><code>VirtualFrame</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L457-L493">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.ToplevelErrorReport-Tuple{}" href="#JET.ToplevelErrorReport-Tuple{}"><code>JET.ToplevelErrorReport</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ToplevelErrorReport()</code></pre><p>In order for <code>Report &lt;: ToplevelErrorReport</code> to implement the interface, it should satisfy the following requirements:</p><ul><li><p><strong>Required fields</strong> <br/><code>Report</code> should have the following fields:</p><ul><li><code>file::String</code>: the filename of this error</li><li><code>line::Int</code>: the line number of this error</li></ul></li><li><p><strong>Required overloads</strong> <br/></p><ul><li><a href="#JET.print_report"><code>JETInterface.print_report(io::IO, report::Report)</code></a></li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/toplevel/virtualprocess.jl#L13-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.copy_report" href="#JET.copy_report"><code>JET.copy_report</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.copy_report(orig::Report) where Report&lt;:InferenceErrorReport -&gt; new::Report</code></pre><p>Returns new <code>new::Report</code>, that should be identical to the original <code>orig::Report</code>, except that <code>new.vst</code> is copied from <code>orig.vst</code> so that the further modification on <code>orig.vst</code> that may happen in later abstract interpretation doesn&#39;t affect <code>new.vst</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L499-L505">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.print_report" href="#JET.print_report"><code>JET.print_report</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_report(io::IO, report::ToplevelErrorReport)</code></pre><p>Prints a report of the top-level error <code>report</code> to the given <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L323-L327">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.print_report_message" href="#JET.print_report_message"><code>JET.print_report_message</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.print_report_message(io::IO, report::Report) where Report&lt;:InferenceErrorReport</code></pre><p>Prints to <code>io</code> and describes <em>why</em> <code>report</code> is reported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L509-L513">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.print_signature" href="#JET.print_signature"><code>JET.print_signature</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.print_signature(::Report) where Report&lt;:InferenceErrorReport -&gt; Bool</code></pre><p>Configures whether or not to print the report signature when printing <code>Report</code> (defaults to <code>true</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L517-L521">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.report_color" href="#JET.report_color"><code>JET.report_color</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JETInterface.report_color(::Report) where Report&lt;:InferenceErrorReport -&gt; Symbol</code></pre><p>Configures the color for <code>Report</code> (defaults to <code>:red</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L524-L528">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.analyze_and_report_call!" href="#JET.analyze_and_report_call!"><code>JET.analyze_and_report_call!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_call!(analyzer::AbstractAnalyzer, f, [types]; jetconfigs...) -&gt; JETCallResult
analyze_and_report_call!(analyzer::AbstractAnalyzer, tt::Type{&lt;:Tuple}; jetconfigs...) -&gt; JETCallResult
analyze_and_report_call!(analyzer::AbstractAnalyzer, mi::MethodInstance; jetconfigs...) -&gt; JETCallResult</code></pre><p>A generic entry point to analyze a function call with <code>AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETCallResult"><code>JETCallResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_call"><code>report_call</code></a> and <a href="../optanalysis/#JET.report_opt"><code>report_opt</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L604-L613">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.call_test_ex" href="#JET.call_test_ex"><code>JET.call_test_ex</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">call_test_ex(funcname::Symbol, testname::Symbol, ex0, __module__, __source__)</code></pre><p>An internal utility function to implement a <code>@test_call</code>-like macro. See the implementation of <a href="../jetanalysis/#JET.@test_call"><code>@test_call</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L1174-L1179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.func_test" href="#JET.func_test"><code>JET.func_test</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">func_test(func, testname::Symbol, args...; jetconfigs...)</code></pre><p>An internal utility function to implement a <code>test_call</code>-like function. See the implementation of <a href="../jetanalysis/#JET.test_call"><code>test_call</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L1249-L1254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.analyze_and_report_file!" href="#JET.analyze_and_report_file!"><code>JET.analyze_and_report_file!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_file!(interp::ConcreteInterpreter, filename::AbstractString; jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a file with <code>interp::ConcreteInterpreter</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> and <code>ConcreteInterpreter</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_file"><code>report_file</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L723-L731">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.analyze_and_report_package!" href="#JET.analyze_and_report_package!"><code>JET.analyze_and_report_package!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_package!(analyzer::AbstractAnalyzer, package::Module; jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a package with <code>analyzer::AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_package"><code>report_package</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L894-L901">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.analyze_and_report_text!" href="#JET.analyze_and_report_text!"><code>JET.analyze_and_report_text!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_text!(interp::ConcreteInterpreter, text::AbstractString,
                         filename::AbstractString = &quot;top-level&quot;;
                         jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a top-level code with <code>interp::ConcreteInterpreter</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> and <code>ConcreteInterpreter</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_text"><code>report_text</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/JETBase.jl#L1000-L1010">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.add_new_report!" href="#JET.add_new_report!"><code>JET.add_new_report!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_new_report!(analyzer::AbstractAnalyzer, result::InferenceResult, report::InferenceErrorReport)</code></pre><p>Adds a new error report to the analyzer&#39;s collection for a specific inference result.</p><p>This function associates an <a href="../internals/#JET.InferenceErrorReport"><code>InferenceErrorReport</code></a> with its corresponding <code>result::InferenceResult</code> in the analyzer&#39;s internal storage. The report becomes part of the analysis results that can be retrieved later using <code>get_reports(analyzer, result)</code>.</p><p>Reports are stored in the order they are added, which can be important for maintaining the logical sequence of errors discovered during analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/abstractanalyzer.jl#L452-L463">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JET.@jetreport" href="#JET.@jetreport"><code>JET.@jetreport</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@jetreport struct NewReport &lt;: InferenceErrorReport
    ...
end</code></pre><p>A utility macro to define <a href="../internals/#JET.InferenceErrorReport"><code>InferenceErrorReport</code></a>. It can be very tedious to manually satisfy the <code>InferenceErrorReport</code> interfaces. JET internally uses this <code>@jetreport</code> utility macro, which takes a <code>struct</code> definition of <code>InferenceErrorReport</code> without the required fields specified, and automatically defines the <code>struct</code> as well as constructor definitions. If the report <code>NewReport &lt;: InferenceErrorReport</code> is defined using <code>@jetreport</code>, then <code>NewReport</code> just needs to implement the <code>print_report_message</code> interface.</p><p>For example, <a href="../jetanalysis/#JET.JETAnalyzer"><code>JETAnalyzer</code></a>&#39;s <code>MethodErrorReport</code> is defined as follows:</p><pre><code class="language-julia hljs">@jetreport struct MethodErrorReport &lt;: InferenceErrorReport
    @nospecialize t # ::Union{Type, Vector{Type}}
    union_split::Int
end
function print_report_message(io::IO, (; t, union_split)::MethodErrorReport)
    print(io, &quot;no matching method found for &quot;)
    if union_split == 0
        print_callsig(io, t)
    else
        ts = t::Vector{Any}
        nts = length(ts)
        for i = 1:nts
            print_callsig(io, ts[i])
            i == nts || print(io, &quot;, &quot;)
        end
        print(io, &quot; (&quot;, nts, &#39;/&#39;, union_split, &quot; union split)&quot;)
    end
end</code></pre><p>and constructed as like <code>MethodErrorReport(sv::InferenceState, atype::Any, 0)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/dff3519a557630e4a061591e43206a983c95ab11/src/abstractinterpret/inferenceerrorreport.jl#L600-L635">source</a></section></article><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><ul><li><a href="../generated-plugin-examples/dispatch_analysis/#Dispatch-Analysis">Dispatch Analysis</a></li><li class="no-marker"><ul><li><a href="../generated-plugin-examples/dispatch_analysis/#Motivation">Motivation</a></li><li><a href="../generated-plugin-examples/dispatch_analysis/#Implementation">Implementation</a></li><li><a href="../generated-plugin-examples/dispatch_analysis/#Usages">Usages</a></li></ul></li><li><a href="../generated-plugin-examples/find_unstable_api/#&quot;Unstable-API&quot;-Analysis">&quot;Unstable API&quot; Analysis</a></li><li class="no-marker"><ul><li><a href="../generated-plugin-examples/find_unstable_api/#Motivation">Motivation</a></li><li><a href="../generated-plugin-examples/find_unstable_api/#Implementation">Implementation</a></li><li><a href="../generated-plugin-examples/find_unstable_api/#Usages">Usages</a></li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../internals/">« Internals</a><a class="docs-footer-nextpage" href="../generated-plugin-examples/dispatch_analysis/">Dispatch Analysis »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 21 October 2025 12:55">Tuesday 21 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
