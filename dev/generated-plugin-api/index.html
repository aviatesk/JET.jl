<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · JET.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JET.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">README</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><span class="tocitem">Analyses</span><ul><li><a class="tocitem" href="../jetanalysis/">Error Analysis</a></li><li><a class="tocitem" href="../optanalysis/">Optimization Analysis</a></li></ul></li><li><a class="tocitem" href="../config/">Configurations</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><span class="tocitem"><code>AbstractAnalyzer</code> Framework</span><ul><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Interfaces"><span>Interfaces</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated-plugin-examples/dispatch_analysis/">Dispatch Analysis</a></li><li><a class="tocitem" href="../generated-plugin-examples/find_unstable_api/">&quot;Unstable API&quot; Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled"><code>AbstractAnalyzer</code> Framework</a></li><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/aviatesk/JET.jl/blob/master/docs/src/generated-plugin-api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="AbstractAnalyzer-Framework"><a class="docs-heading-anchor" href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a><a id="AbstractAnalyzer-Framework-1"></a><a class="docs-heading-anchor-permalink" href="#AbstractAnalyzer-Framework" title="Permalink"></a></h1><ul><li><a href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a></li><li class="no-marker"><ul><li><a href="#Interfaces">Interfaces</a></li><li><a href="#Examples">Examples</a></li></ul></li></ul><p>JET offers an infrastructure to implement a &quot;plugin&quot; code analyzer. Actually, <a href="../jetanalysis/#jetanalysis">JET&#39;s default error analyzer</a> is one specific instance of such a plugin analyzer built on top of the framework.</p><p>In this documentation we will try to elaborate the framework APIs and showcase example analyzers.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The APIs described in this page is <em>very</em> experimental and subject to changes. And this documentation is also very WIP.</p></div></div><h2 id="Interfaces"><a class="docs-heading-anchor" href="#Interfaces">Interfaces</a><a id="Interfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Interfaces" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JET.JETInterface" href="#JET.JETInterface"><code>JET.JETInterface</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">JETInterface</code></pre><p>This <code>baremodule</code> exports names that form the APIs of <a href="#AbstractAnalyzer-Framework"><code>AbstractAnalyzer</code> Framework</a>. <code>using JET.JETInterface</code> loads all names that are necessary to define a plugin analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L1281-L1286">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.AbstractAnalyzer" href="#JET.AbstractAnalyzer"><code>JET.AbstractAnalyzer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractAnalyzer &lt;: AbstractInterpreter end</code></pre><p>An interface type of analyzers that are built on top of <a href="#AbstractAnalyzer-Framework">JET&#39;s analyzer framework</a>.</p><p>When a new type <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, it should be declared as subtype of <code>AbstractAnalyzer</code>, and is expected to the following interfaces:</p><hr/><ol><li><code>AnalyzerState(analyzer::NewAnalyzer) -&gt; AnalyzerState</code>: <br/>Returns the <a href="#JET.AnalyzerState"><code>AnalyzerState</code></a> for <code>analyzer::NewAnalyzer</code>.</li></ol><hr/><ol><li><code>AbstractAnalyzer(analyzer::NewAnalyzer, state::AnalyzerState) -&gt; NewAnalyzer</code>: <br/>Constructs an new <code>NewAnalyzer</code> instance in the middle of JET&#39;s <a href="../internals/#toplevel">top-level analysis</a> or <a href="../internals/#abstractinterpret">abstract interpretation</a>, given the previous <code>analyzer::NewAnalyzer</code> and <a href="#JET.AnalyzerState"><code>state::AnalyzerState</code></a>.</li></ol><hr/><ol><li><code>ReportPass(analyzer::NewAnalyzer) -&gt; ReportPass</code>: <br/>Returns <a href="#JET.ReportPass"><code>ReportPass</code></a> used for <code>analyzer::NewAnalyzer</code>.</li></ol><hr/><ol><li><code>AnalysisCache(analyzer::NewAnalyzer) -&gt; analysis_cache::AnalysisCache</code>: <br/>Returns code cache used for <code>analyzer::NewAnalyzer</code>.</li></ol><hr/><p>See also <a href="#JET.AnalyzerState"><code>AnalyzerState</code></a>, <a href="#JET.ReportPass"><code>ReportPass</code></a> and <a href="#JET.AnalysisCache"><code>AnalysisCache</code></a>.</p><p><strong>Example</strong></p><p>JET.jl defines its default error analyzer <code>JETAnalyzer &lt;: AbstractAnalyzer</code> as the following (modified a bit for the sake of simplicity):</p><pre><code class="language-julia hljs"># the default error analyzer for JET.jl
struct JETAnalyzer{RP&lt;:ReportPass} &lt;: AbstractAnalyzer
    state::AnalyzerState
    analysis_cache::AnalysisCache
    report_pass::RP
end

# AbstractAnalyzer API requirements
AnalyzerState(analyzer::JETAnalyzer) = analyzer.state
AbstractAnalyzer(analyzer::JETAnalyzer, state::AnalyzerState) = JETAnalyzer(ReportPass(analyzer), state)
ReportPass(analyzer::JETAnalyzer) = analyzer.report_pass
AnalysisCache(analyzer::JETAnalyzer) = analyzer.analysis_cache</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L4-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.AnalyzerState" href="#JET.AnalyzerState"><code>JET.AnalyzerState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct AnalyzerState
    ...
end</code></pre><p>The mutable object that holds various states that are consumed by all <a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a>s.</p><hr/><pre><code class="nohighlight hljs">AnalyzerState(analyzer::AbstractAnalyzer) -&gt; AnalyzerState</code></pre><p>If <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, <code>NewAnalyzer</code> should implement this <code>AnalyzerState(analyzer::NewAnalyzer) -&gt; AnalyzerState</code> interface.</p><p>A new <code>AnalyzerState</code> is supposed to be constructed using the <a href="../config/#general-configurations">general configurations</a> passed as keyword arguments <code>jetconfigs</code> of the <a href="#JET.AbstractAnalyzer"><code>NewAnalyzer(; jetconfigs...)</code></a> constructor, and the constructed <code>AnalyzerState</code> is usually kept within <code>NewAnalyzer</code> itself:</p><pre><code class="language-julia hljs">function NewAnalyzer(world::UInt=Base.get_world_counter(); jetconfigs...)
    ...
    state = AnalyzerState(world; jetconfigs...)
    return NewAnalyzer(..., state)
end
AnalyzerState(analyzer::NewAnalyzer) = analyzer.state</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L86-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.ReportPass" href="#JET.ReportPass"><code>JET.ReportPass</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type ReportPass end</code></pre><p>An interface type that represents <code>AbstractAnalyzer</code>&#39;s report pass. <code>analyzer::AbstractAnalyzer</code> injects report passes using the <code>(::ReportPass)(::Type{InferenceErrorReport}, ::AbstractAnalyzer, state, ...)</code> interface, which provides a flexible and efficient layer to configure the analysis done by <code>AbstractAnalyzer</code>.</p><hr/><pre><code class="nohighlight hljs">ReportPass(analyzer::AbstractAnalyzer) -&gt; ReportPass</code></pre><p>If <code>NewAnalyzer</code> implements the <code>AbstractAnalyzer</code> interface, <code>NewAnalyzer</code> should implement this <code>ReportPass(analyzer::NewAnalyzer) -&gt; ReportPass</code> interface.</p><p><code>ReportPass</code> allows <code>NewAnalyzer</code> to provide a very flexible configuration layer for <code>NewAnalyzer</code>&#39;s analysis; an user can define their own <code>ReportPass</code> to control how <code>NewAnalyzer</code> collects report errors while still using the analysis routine implemented by <code>NewAnalyzer</code>.</p><p><strong>Example</strong></p><p>For example, <a href="../jetanalysis/#JET.JETAnalyzer"><code>JETAnalyzer</code></a> accepts a custom <code>ReportPass</code> passed as part of the <a href="../config/#general-configurations">general configurations</a> (see the documentation of <a href="#JET.AbstractAnalyzer"><code>AbstractAnalyzer</code></a> for an example implementation). And we can setup a custom report pass <code>IgnoreAllExceptGlobalUndefVar</code>, that ignores all the reports that are otherwise collected by <code>JETAnalyzer</code> except <code>UndefVarErrorReport</code>:</p><pre><code class="language-julia hljs"># custom report pass that ignores all the reports except `UndefVarErrorReport`
struct IgnoreAllExceptGlobalUndefVar &lt;: ReportPass end

# ignores all the reports analyzed by `JETAnalyzer`
(::IgnoreAllExceptGlobalUndefVar)(::Type{&lt;:InferenceErrorReport}, @nospecialize(_...)) = return

# forward to `BasicPass` to collect `UndefVarErrorReport`
function (::IgnoreAllExceptGlobalUndefVar)(::Type{UndefVarErrorReport}, @nospecialize(args...))
    BasicPass()(UndefVarErrorReport, args...)
end

no_method_error()    = 1 + &quot;1&quot;
undef_global_error() = undefvar
report_call(; report_pass=IgnoreAllExceptGlobalUndefVar()) do
    if rand(Bool)
        return no_method_error()    # &quot;no matching method found&quot; error report won&#39;t be reported here
    else
        return undef_global_error() # &quot;`undefvar` is not defined&quot; error report will be reported
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L382-L429">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.AnalysisCache" href="#JET.AnalysisCache"><code>JET.AnalysisCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AnalysisCache</code></pre><p>JET&#39;s internal representation of a global analysis cache.</p><hr/><pre><code class="nohighlight hljs">AnalysisCache(analyzer::AbstractAnalyzer) -&gt; analysis_cache::AnalysisCache</code></pre><p>Returns <a href="#JET.AnalysisCache"><code>AnalysisCache</code></a> for this <code>analyzer::AbstractAnalyzer</code>. <code>AbstractAnalyzer</code> instances can share the same cache if they perform the same analysis, otherwise their cache should be separated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L455-L467">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.valid_configurations" href="#JET.valid_configurations"><code>JET.valid_configurations</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">valid_configurations(analyzer::AbstractAnalyzer) -&gt; names or nothing</code></pre><p>Returns a set of names that are valid as a configuration for <code>analyzer</code>. <code>names</code> should be an iterator of <code>Symbol</code>. No validations are performed if <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L492-L498">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.aggregation_policy" href="#JET.aggregation_policy"><code>JET.aggregation_policy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">aggregation_policy(analyzer::AbstractAnalyzer)</code></pre><p>Defines how <code>analyzer</code> aggregates <a href="#JET.InferenceErrorReport"><code>InferenceErrorReport</code></a>s. Defaults to <code>default_aggregation_policy</code>.</p><hr/><pre><code class="nohighlight hljs">default_aggregation_policy(report::InferenceErrorReport) -&gt; DefaultReportIdentity</code></pre><p>Returns the default identity of <code>report::InferenceErrorReport</code>, where <code>DefaultReportIdentity</code> aggregates reports based on &quot;error location&quot; of each <code>report</code>. <code>DefaultReportIdentity</code> aggregates <code>InferenceErrorReport</code>s aggressively in a sense that it ignores the identity of error point&#39;s <code>MethodInstance</code>, under the assumption that errors are identical as far as they&#39;re collected at the same file and line.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L513-L528">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.VSCode.vscode_diagnostics_order" href="#JET.VSCode.vscode_diagnostics_order"><code>JET.VSCode.vscode_diagnostics_order</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vscode_diagnostics_order(analyzer::AbstractAnalyzer) -&gt; Bool</code></pre><p>If <code>true</code> (default) a diagnostic will be reported at entry site. Otherwise it&#39;s reported at error point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/ui/vscode.jl#L22-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.InferenceErrorReport" href="#JET.InferenceErrorReport"><code>JET.InferenceErrorReport</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InferenceErrorReport</code></pre><p>An interface type of error reports that JET collects by abstract interpration. In order for <code>R&lt;:InferenceErrorReport</code> to implement the interface, it should satisfy the following requirements:</p><ul><li><p><strong>Required fields</strong> <br/><code>R</code> should have the following fields, which explains <em>where</em> and <em>how</em> this error is reported:</p><ul><li><code>vst::VirtualStackTrace</code>: a virtual stack trace of the error</li><li><a href="../internals/#JET.Signature"><code>sig::Signature</code></a>: a signature of the error point</li></ul><p>Note that <code>R</code> can have additional fields other than <code>vst</code> and <code>sig</code> to explain <em>why</em> this error is reported (mostly used for <a href="#JET.print_report_message"><code>print_report_message</code></a>).</p></li><li><p><strong>Required overloads</strong> <br/></p><ul><li><a href="#JET.copy_report"><code>copy_report(report::R) -&gt; new::R</code></a></li><li><a href="#JET.print_report_message"><code>print_report_message(io::IO, report::R)</code></a></li></ul></li><li><p><strong>Optional overloads</strong> <br/></p><ul><li><a href="#JET.print_signature"><code>print_signature(::R) -&gt; Bool</code></a></li><li><a href="#JET.report_color"><code>report_color(::R) -&gt; Symbol</code></a></li></ul></li></ul><p><code>R&lt;:InferenceErrorReport</code> is supposed to be constructed using the following constructor</p><pre><code class="nohighlight hljs">R(::AbstractAnalyzer, state, spec_args...) -&gt; R</code></pre><p>where <code>state</code> can be either of:</p><ul><li><code>state::Tuple{Union{Core.Compiler.InferenceState, Core.Compiler.OptimizationState}, Int64}</code>: a state with the current program counter specified</li><li><code>state::InferenceState</code>: a state with the current program counter set to <code>state.currpc</code></li><li><code>state::InferenceResult</code>: a state with the current program counter unknown</li><li><code>state::MethodInstance</code>: a state with the current program counter unknown</li></ul><p>See also: <a href="#JET.@jetreport"><code>@jetreport</code></a>, <a href="../internals/#JET.VirtualStackTrace"><code>VirtualStackTrace</code></a>, <a href="../internals/#JET.VirtualFrame"><code>VirtualFrame</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L411-L447">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.copy_report" href="#JET.copy_report"><code>JET.copy_report</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">copy_report(report::R) where R&lt;:InferenceErrorReport -&gt; new::R</code></pre><p>Returns new <code>new::R</code>, that should be identical to the original <code>report::R</code>, except that <code>new.vst</code> is copied from <code>report.vst</code> so that the further modification on <code>report.vst</code> that may happen in later abstract interpretation doesn&#39;t affect <code>new.vst</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L453-L459">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.print_report_message" href="#JET.print_report_message"><code>JET.print_report_message</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_report_message(io::IO, report::R) where R&lt;:InferenceErrorReport</code></pre><p>Prints to <code>io</code> and describes <em>why</em> <code>report</code> is reported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L463-L467">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.print_signature" href="#JET.print_signature"><code>JET.print_signature</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_signature(::R) where R&lt;:InferenceErrorReport -&gt; Bool</code></pre><p>Configures whether or not to print the report signature when printing <code>R</code> (defaults to <code>true</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L471-L475">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.report_color" href="#JET.report_color"><code>JET.report_color</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">report_color(::R) where R&lt;:InferenceErrorReport -&gt; Symbol</code></pre><p>Configures the color for <code>R</code> (defaults to <code>:red</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L478-L482">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.analyze_and_report_call!" href="#JET.analyze_and_report_call!"><code>JET.analyze_and_report_call!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_call!(analyzer::AbstractAnalyzer, f, [types]; jetconfigs...) -&gt; JETCallResult
analyze_and_report_call!(analyzer::AbstractAnalyzer, tt::Type{&lt;:Tuple}; jetconfigs...) -&gt; JETCallResult
analyze_and_report_call!(analyzer::AbstractAnalyzer, mi::MethodInstance; jetconfigs...) -&gt; JETCallResult</code></pre><p>A generic entry point to analyze a function call with <code>AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETCallResult"><code>JETCallResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_call"><code>report_call</code></a> and <a href="../optanalysis/#JET.report_opt"><code>report_opt</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L680-L689">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.call_test_ex" href="#JET.call_test_ex"><code>JET.call_test_ex</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">call_test_ex(funcname::Symbol, testname::Symbol, ex0, __module__, __source__)</code></pre><p>An internal utility function to implement a <code>@test_call</code>-like macro. See the implementation of <a href="../jetanalysis/#JET.@test_call"><code>@test_call</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L1102-L1107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.func_test" href="#JET.func_test"><code>JET.func_test</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">func_test(func, testname::Symbol, args...; jetconfigs...)</code></pre><p>An internal utility function to implement a <code>test_call</code>-like function. See the implementation of <a href="../jetanalysis/#JET.test_call"><code>test_call</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L1176-L1181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.analyze_and_report_file!" href="#JET.analyze_and_report_file!"><code>JET.analyze_and_report_file!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_file!(analyzer::AbstractAnalyzer, filename::AbstractString; jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a file with <code>AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_file"><code>report_file</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L775-L782">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.analyze_and_report_package!" href="#JET.analyze_and_report_package!"><code>JET.analyze_and_report_package!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_package!(analyzer::AbstractAnalyzer,
                            package::Union{AbstractString,Module,Nothing} = nothing;
                            jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a package with <code>AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_package"><code>report_package</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L921-L930">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.analyze_and_report_text!" href="#JET.analyze_and_report_text!"><code>JET.analyze_and_report_text!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">analyze_and_report_text!(analyzer::AbstractAnalyzer, text::AbstractString,
                         filename::AbstractString = &quot;top-level&quot;;
                         jetconfigs...) -&gt; JETToplevelResult</code></pre><p>A generic entry point to analyze a top-level code with <code>AbstractAnalyzer</code>. Finally returns the analysis result as <a href="../internals/#JET.JETToplevelResult"><code>JETToplevelResult</code></a>. Note that this is intended to be used by developers of <code>AbstractAnalyzer</code> only. General users should use high-level entry points like <a href="../jetanalysis/#JET.report_text"><code>report_text</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/JET.jl#L964-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.add_new_report!" href="#JET.add_new_report!"><code>JET.add_new_report!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_new_report!(analyzer::AbstractAnalyzer, result::InferenceResult, report::InferenceErrorReport)</code></pre><p>Adds new <a href="#JET.InferenceErrorReport"><code>report::InferenceErrorReport</code></a> associated with <code>result::InferenceResult</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/abstractanalyzer.jl#L572-L576">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JET.@jetreport" href="#JET.@jetreport"><code>JET.@jetreport</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@jetreport struct T &lt;: InferenceErrorReport
    ...
end</code></pre><p>A utility macro to define <a href="#JET.InferenceErrorReport"><code>InferenceErrorReport</code></a>. It can be very tedious to manually satisfy the <code>InferenceErrorReport</code> interfaces. JET internally uses this <code>@jetreport</code> utility macro, which takes a <code>struct</code> definition of <code>InferenceErrorReport</code> without the required fields specified, and automatically defines the <code>struct</code> as well as constructor definitions. If the report <code>T &lt;: InferenceErrorReport</code> is defined using <code>@jetreport</code>, then <code>T</code> just needs to implement the <code>print_report_message</code> interface.</p><p>For example, <a href="../jetanalysis/#JET.JETAnalyzer"><code>JETAnalyzer</code></a>&#39;s <code>MethodErrorReport</code> is defined as follows:</p><pre><code class="language-julia hljs">@jetreport struct MethodErrorReport &lt;: InferenceErrorReport
    @nospecialize t # ::Union{Type, Vector{Type}}
    union_split::Int
end
function print_report_message(io::IO, (; t, union_split)::MethodErrorReport)
    print(io, &quot;no matching method found for &quot;)
    if union_split == 0
        print_callsig(io, t)
    else
        ts = t::Vector{Any}
        nts = length(ts)
        for i = 1:nts
            print_callsig(io, ts[i])
            i == nts || print(io, &quot;, &quot;)
        end
        print(io, &quot; (&quot;, nts, &#39;/&#39;, union_split, &quot; union split)&quot;)
    end
end</code></pre><p>and constructed as like <code>MethodErrorReport(sv::InferenceState, atype::Any, 0)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aviatesk/JET.jl/blob/68a0e39a3bcb713c34a61d7f008b21e17bcc33c0/src/abstractinterpret/inferenceerrorreport.jl#L544-L579">source</a></section></article><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><ul><li><a href="../generated-plugin-examples/dispatch_analysis/#Dispatch-Analysis">Dispatch Analysis</a></li><li class="no-marker"><ul><li><a href="../generated-plugin-examples/dispatch_analysis/#Motivation">Motivation</a></li><li><a href="../generated-plugin-examples/dispatch_analysis/#Implementation">Implementation</a></li><li><a href="../generated-plugin-examples/dispatch_analysis/#Usages">Usages</a></li></ul></li><li><a href="../generated-plugin-examples/find_unstable_api/#&quot;Unstable-API&quot;-Analysis">&quot;Unstable API&quot; Analysis</a></li><li class="no-marker"><ul><li><a href="../generated-plugin-examples/find_unstable_api/#Motivation">Motivation</a></li><li><a href="../generated-plugin-examples/find_unstable_api/#Implementation">Implementation</a></li><li><a href="../generated-plugin-examples/find_unstable_api/#Usages">Usages</a></li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../internals/">« Internals</a><a class="docs-footer-nextpage" href="../generated-plugin-examples/dispatch_analysis/">Dispatch Analysis »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 18 September 2023 15:49">Monday 18 September 2023</span>. Using Julia version 1.11.0-DEV.498.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
